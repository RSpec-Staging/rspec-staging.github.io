<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]<!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1" name="viewport" /><meta property="og:title" /><meta content="https://rspec.info/features/3-12/rspec-expectations/built-in-matchers/" property="og:url" /><meta content="https://rspec.info/images/logo_ogp.png" property="og:image" /><meta content="summary" name="twitter:card" /><meta content="@rspec" name="twitter:site" /><title></title><link href="/stylesheets/pages/features.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" /></head><body class="features"><header><nav><h1><img src="/images/logo.png" alt="Logo" /><a href="/">RSpec</a></h1><input class="hamburger-toggle" type="checkbox" /><div class="hamburger-icon"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div><ul class="menu"><li><a href="/about">About</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/blog">Blog</a></li><li><a href="/upgrading-from-rspec-2">Upgrade</a></li><li><a href="/help">Get Help</a></li><li><a href="/contributing">Contributing</a></li></ul></nav></header><nav class="top-nav-bar" role="navigation"><ul><li>Library:</li><li><a class="title">RSpec Expectations</a><ul aria-haspopup="true" aria-label="submenu"><li><a href="/features/3-12/rspec-core">RSpec Core</a></li><li class="current"><a href="/features/3-12/rspec-expectations">RSpec Expectations</a></li><li><a href="/features/3-12/rspec-mocks">RSpec Mocks</a></li><li><a href="/features/6-0/rspec-rails">RSpec Rails</a></li></ul></li><li>Version:</li><li><a class="title">3.12</a><ul aria-haspopup="true" aria-label="submenu"><li class="current"><a href="/features/3-12/rspec-expectations">3.12</a></li></ul></li></ul></nav><section><nav><ul><li><a href="/features/3-12/rspec-expectations/built-in-matchers">Built in matchers</a><ul class="open"><li><a href="/features/3-12/rspec-expectations/built-in-matchers/equality"> Equality matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/comparisons"> Comparison matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/predicates"> Predicate matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/types"> Type matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/all"> `all` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/be"> `be` matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/be-within"> `be_within` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/exist"> `exist` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/change"> `change` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/contain-exactly"> `contain_exactly` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/cover"> `cover` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/end-with"> `end_with` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/exist"> `exist` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/have-attributes"> `have_attributes` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/include"> `include` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/match"> `match` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/raise-error"> `raise_error` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/respond-to"> `respond_to` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/satisfy"> `satisfy` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/start-with"> `start_with` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/throw-symbol"> `throw_symbol` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/yield"> `yield` matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/output"> `output` matcher</a></li></ul></li><li><a href="/features/3-12/rspec-expectations/custom-matchers">Custom matchers</a><ul><li><a href="/features/3-12/rspec-expectations/custom-matchers/define-matcher"> Defining a custom matcher</a></li><li><a href="/features/3-12/rspec-expectations/custom-matchers/define-diffable-matcher"> Defining a diffable matcher</a></li><li><a href="/features/3-12/rspec-expectations/custom-matchers/define-matcher-with-fluent-interface"> Defining a matcher with fluent interface</a></li><li><a href="/features/3-12/rspec-expectations/custom-matchers/access-running-example"> Access the running example</a></li><li><a href="/features/3-12/rspec-expectations/custom-matchers/define-matcher-outside-rspec"> Defining a matcher outside rspec</a></li><li><a href="/features/3-12/rspec-expectations/custom-matchers/define-block-matcher"> Defining a matcher supporting block expectations</a></li></ul></li><li><a href="/features/3-12/rspec-expectations/aggregating-failures">Aggregating failures</a></li><li><a href="/features/3-12/rspec-expectations/composing-matchers">Composing matchers</a></li><li><a href="/features/3-12/rspec-expectations/compound-expectations">Compound expectations</a></li><li><a href="/features/3-12/rspec-expectations/define-negated-matcher">Define negated matcher</a></li><li><a href="/features/3-12/rspec-expectations/customized-message">Customized message</a></li><li><a href="/features/3-12/rspec-expectations/diffing">Diffing</a></li><li><a href="/features/3-12/rspec-expectations/implicit-docstrings">Implicit docstrings</a></li><li><a href="/features/3-12/rspec-expectations/syntax-configuration">Syntax configuration</a></li><li><a href="/features/3-12/rspec-expectations/test-frameworks">Test frameworks</a><ul><li><a href="/features/3-12/rspec-expectations/test-frameworks/minitest"> Minitest integration</a></li></ul></li></ul></nav><article><h1>Built in matchers</h1>

<p><code>rspec-expectations</code> ships with a number of built-in matchers. Each matcher can be used
with <code>expect(..).to</code> or <code>expect(..).not_to</code> to define positive and negative expectations
respectively on an object. Most matchers can also be accessed using the <code>(...).should</code> and
<code>(...).should_not</code> syntax; see <a href="https://github.com/rspec/rspec-expectations/blob/main/Should.md">using should syntax</a> for why we recommend using <code>expect</code>.</p>

<p>e.g.</p>
<div class="highlight"><pre class="highlight plaintext"><code>expect(result).to   eq(3)
expect(list).not_to be_empty
pi.should be &gt; 3
</code></pre></div>
<h2>Object identity</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to be(expected) # passes if actual.equal?(expected)
</code></pre></div>
<h2>Object equivalence</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to eq(expected) # passes if actual == expected
</code></pre></div>
<h2>Optional APIs for identity/equivalence</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to eql(expected)   # passes if actual.eql?(expected)
expect(actual).to equal(expected) # passes if actual.equal?(expected)

# NOTE: `expect` does not support `==` matcher.
</code></pre></div>
<h2>Comparisons</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to be &gt;  expected
expect(actual).to be &gt;= expected
expect(actual).to be &lt;= expected
expect(actual).to be &lt;  expected
expect(actual).to be_between(minimum, maximum).inclusive
expect(actual).to be_between(minimum, maximum).exclusive
expect(actual).to match(/expression/)
expect(actual).to be_within(delta).of(expected)
expect(actual).to start_with expected
expect(actual).to end_with expected

# NOTE: `expect` does not support `=~` matcher.
</code></pre></div>
<h2>Types/classes/response</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to be_instance_of(expected)
expect(actual).to be_kind_of(expected)
expect(actual).to respond_to(expected)
</code></pre></div>
<h2>Truthiness and existentialism</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to be_truthy    # passes if actual is truthy (not nil or false)
expect(actual).to be true      # passes if actual == true
expect(actual).to be_falsey    # passes if actual is falsy (nil or false)
expect(actual).to be false     # passes if actual == false
expect(actual).to be_nil       # passes if actual is nil
expect(actual).to exist        # passes if actual.exist? and/or actual.exists? are truthy
expect(actual).to exist(*args) # passes if actual.exist?(*args) and/or actual.exists?(*args) are truthy
</code></pre></div>
<h2>Expecting errors</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect { ... }.to raise_error
expect { ... }.to raise_error(ErrorClass)
expect { ... }.to raise_error("message")
expect { ... }.to raise_error(ErrorClass, "message")
</code></pre></div>
<h2>Expecting throws</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect { ... }.to throw_symbol
expect { ... }.to throw_symbol(:symbol)
expect { ... }.to throw_symbol(:symbol, 'value')
</code></pre></div>
<h2>Predicate matchers</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to be_xxx         # passes if actual.xxx?
expect(actual).to have_xxx(:arg) # passes if actual.has_xxx?(:arg)
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight plaintext"><code>expect([]).to      be_empty
expect(:a =&gt; 1).to have_key(:a)
</code></pre></div>
<h2>Collection membership</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to include(expected)
expect(array).to match_array(expected_array)
# ...which is the same as:
expect(array).to contain_exactly(individual, elements)
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight plaintext"><code>expect([1, 2, 3]).to     include(1)
expect([1, 2, 3]).to     include(1, 2)
expect(:a =&gt; 'b').to     include(:a =&gt; 'b')
expect("this string").to include("is str")
expect([1, 2, 3]).to     contain_exactly(2, 1, 3)
expect([1, 2, 3]).to     match_array([3, 2, 1])
</code></pre></div>
<h2>Ranges (1.9+ only)</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(1..10).to cover(3)
</code></pre></div>
<h2>Change observation</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect { object.action }.to change(object, :value).from(old).to(new)
expect { object.action }.to change(object, :value).by(delta)
expect { object.action }.to change(object, :value).by_at_least(minimum_delta)
expect { object.action }.to change(object, :value).by_at_most(maximum_delta)
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight plaintext"><code>expect { a += 1 }.to change { a }.by(1)
expect { a += 3 }.to change { a }.from(2)
expect { a += 3 }.to change { a }.by_at_least(2)
</code></pre></div>
<h2>Satisfy</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect(actual).to satisfy { |value| value == expected }
</code></pre></div>
<h2>Output capture</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect { actual }.to output("some output").to_stdout
expect { actual }.to output("some error").to_stderr
</code></pre></div>
<h2>Block expectation</h2>
<div class="highlight"><pre class="highlight plaintext"><code>expect { |b| object.action(&amp;b) }.to yield_control
expect { |b| object.action(&amp;b) }.to yield_with_no_args           # only matches no args
expect { |b| object.action(&amp;b) }.to yield_with_args              # matches any args
expect { |b| object.action(&amp;b) }.to yield_successive_args(*args) # matches args against multiple yields
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight plaintext"><code>expect { |b| User.transaction(&amp;b) }.to yield_control
expect { |b| User.transaction(&amp;b) }.to yield_with_no_args
expect { |b| 5.tap(&amp;b)            }.not_to yield_with_no_args         # because it yields with `5`
expect { |b| 5.tap(&amp;b)            }.to yield_with_args(5)             # because 5 == 5
expect { |b| 5.tap(&amp;b)            }.to yield_with_args(Integer)       # because Integer === 5
expect { |b| [1, 2, 3].each(&amp;b)   }.to yield_successive_args(1, 2, 3)
</code></pre></div><h3>Topics</h3><ul><li><a href="/features/3-12/rspec-expectations/built-in-matchers/equality"> Equality matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/comparisons"> Comparison matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/predicates"> Predicate matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/types"> Type matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/all"> `all` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/be"> `be` matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/be-within"> `be_within` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/exist"> `exist` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/change"> `change` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/contain-exactly"> `contain_exactly` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/cover"> `cover` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/end-with"> `end_with` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/exist"> `exist` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/have-attributes"> `have_attributes` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/include"> `include` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/match"> `match` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/raise-error"> `raise_error` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/respond-to"> `respond_to` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/satisfy"> `satisfy` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/start-with"> `start_with` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/throw-symbol"> `throw_symbol` matcher</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/yield"> `yield` matchers</a></li><li><a href="/features/3-12/rspec-expectations/built-in-matchers/output"> `output` matcher</a></li></ul></article></section><footer><div>Created with the assistance of Ninefold<img src="/images/brutus-half.png" alt="Brutus" /></div><br /><a href="https://dnsimple.link/resolving-rspec" target="_blank">Resolving with<br /><img src="https://cdn.dnsimple.com/assets/resolving-with-us/logo-dark.png" alt="DNSimple" style="width:100px;" /></a></footer></body><script src="/javascripts/asciinema-player.js"></script></html>