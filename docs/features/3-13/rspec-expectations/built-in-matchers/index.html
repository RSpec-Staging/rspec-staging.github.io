<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]<!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1" name="viewport" /><meta property="og:title" /><meta content="https://rspec.info/features/3-13/rspec-expectations/built-in-matchers/" property="og:url" /><meta content="https://rspec.info/images/logo_ogp.png" property="og:image" /><meta content="summary" name="twitter:card" /><meta content="@rspec" name="twitter:site" /><title></title><link href="/stylesheets/pages/features.css" rel="stylesheet" /><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /><link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" /><link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" /></head><body class="features"><header><nav><h1><img src="/images/logo.png" alt="Logo" /><a href="/">RSpec</a></h1><input class="hamburger-toggle" type="checkbox" /><div class="hamburger-icon"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div><ul class="menu"><li><a href="/about">About</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/blog">Blog</a></li><li><a href="/upgrading-from-rspec-2">Upgrade</a></li><li><a href="/help">Get Help</a></li><li><a href="/contributing">Contributing</a></li></ul></nav></header><nav class="top-nav-bar" role="navigation"><ul><li>Library:</li><li><a class="title" href="/features/3-13/rspec-expectations">RSpec Expectations</a><ul aria-haspopup="true" aria-label="submenu"><li><a href="/features/3-13/rspec-core">RSpec Core</a></li><li class="current"><a href="/features/3-13/rspec-expectations">RSpec Expectations</a></li><li><a href="/features/3-13/rspec-mocks">RSpec Mocks</a></li><li><a href="/features/6-1/rspec-rails">RSpec Rails</a></li></ul></li><li>Version:</li><li><a class="title" href="/features/3-13/rspec-expectations">3.13</a><ul aria-haspopup="true" aria-label="submenu"><li><a href="/features/3-12/rspec-expectations">3.12</a></li><li class="current"><a href="/features/3-13/rspec-expectations">3.13</a></li></ul></li></ul></nav><section><nav><ul><li><a href="/features/3-13/rspec-expectations/built-in-matchers/">Built in matchers</a><ul class="open"><li><a href="/features/3-13/rspec-expectations/built-in-matchers/equality/"> Equality matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/comparisons/"> Comparison matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/predicates/"> Predicate matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/types/"> Type matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/all/"> `all` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/be/"> `be` matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/be-within/"> `be_within` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/exist/"> `exist` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/change/"> `change` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/contain-exactly/"> `contain_exactly` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/cover/"> `cover` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/end-with/"> `end_with` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/exist/"> `exist` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/have-attributes/"> `have_attributes` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/include/"> `include` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/match/"> `match` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/raise-error/"> `raise_error` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/respond-to/"> `respond_to` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/satisfy/"> `satisfy` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/start-with/"> `start_with` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/throw-symbol/"> `throw_symbol` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/yield/"> `yield` matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/output/"> `output` matcher</a></li></ul></li><li><a href="/features/3-13/rspec-expectations/custom-matchers/">Custom matchers</a><ul><li><a href="/features/3-13/rspec-expectations/custom-matchers/define-matcher/"> Defining a custom matcher</a></li><li><a href="/features/3-13/rspec-expectations/custom-matchers/define-diffable-matcher/"> Defining a diffable matcher</a></li><li><a href="/features/3-13/rspec-expectations/custom-matchers/define-matcher-with-fluent-interface/"> Defining a matcher with fluent interface</a></li><li><a href="/features/3-13/rspec-expectations/custom-matchers/access-running-example/"> Access the running example</a></li><li><a href="/features/3-13/rspec-expectations/custom-matchers/define-matcher-outside-rspec/"> Defining a matcher outside rspec</a></li><li><a href="/features/3-13/rspec-expectations/custom-matchers/define-block-matcher/"> Defining a matcher supporting block expectations</a></li></ul></li><li><a href="/features/3-13/rspec-expectations/aggregating-failures/">Aggregating failures</a></li><li><a href="/features/3-13/rspec-expectations/composing-matchers/">Composing matchers</a></li><li><a href="/features/3-13/rspec-expectations/compound-expectations/">Compound expectations</a></li><li><a href="/features/3-13/rspec-expectations/define-negated-matcher/">Define negated matcher</a></li><li><a href="/features/3-13/rspec-expectations/customized-message/">Customized message</a></li><li><a href="/features/3-13/rspec-expectations/diffing/">Diffing</a></li><li><a href="/features/3-13/rspec-expectations/implicit-docstrings/">Implicit docstrings</a></li><li><a href="/features/3-13/rspec-expectations/syntax-configuration/">Syntax configuration</a></li><li><a href="/features/3-13/rspec-expectations/test-frameworks/">Test frameworks</a><ul><li><a href="/features/3-13/rspec-expectations/test-frameworks/minitest/"> Minitest integration</a></li></ul></li></ul></nav><article><h1>Built in matchers</h1>

<p><code>rspec-expectations</code> ships with a number of built-in matchers. Each matcher can be used
with <code>expect(..).to</code> or <code>expect(..).not_to</code> to define positive and negative expectations
respectively on an object. Most matchers can also be accessed using the <code>(...).should</code> and
<code>(...).should_not</code> syntax; see <a href="https://github.com/rspec/rspec-expectations/blob/main/Should.md">using should syntax</a> for why we recommend using <code>expect</code>.</p>

<p>e.g.</p>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">result</span><span class="p">).</span><span class="nf">to</span>   <span class="n">eq</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">list</span><span class="p">).</span><span class="nf">not_to</span> <span class="n">be_empty</span>
    <span class="n">pi</span><span class="p">.</span><span class="nf">should</span> <span class="n">be</span> <span class="o">&gt;</span> <span class="mi">3</span>
</code></pre></div>
<h2>Object identity</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="c1"># passes if actual.equal?(expected)</span>
</code></pre></div>
<h2>Object equivalence</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">eq</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="c1"># passes if actual == expected</span>
</code></pre></div>
<h2>Optional APIs for identity/equivalence</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">eql</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>   <span class="c1"># passes if actual.eql?(expected)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">equal</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span> <span class="c1"># passes if actual.equal?(expected)</span>

    <span class="c1"># NOTE: `expect` does not support `==` matcher.</span>
</code></pre></div>
<h2>Comparisons</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&gt;</span>  <span class="n">expected</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&gt;=</span> <span class="n">expected</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&lt;=</span> <span class="n">expected</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="o">&lt;</span>  <span class="n">expected</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_between</span><span class="p">(</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">).</span><span class="nf">inclusive</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_between</span><span class="p">(</span><span class="n">minimum</span><span class="p">,</span> <span class="n">maximum</span><span class="p">).</span><span class="nf">exclusive</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">match</span><span class="p">(</span><span class="sr">/expression/</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_within</span><span class="p">(</span><span class="n">delta</span><span class="p">).</span><span class="nf">of</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">start_with</span> <span class="n">expected</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">end_with</span> <span class="n">expected</span>

    <span class="c1"># NOTE: `expect` does not support `=~` matcher.</span>
</code></pre></div>
<h2>Types/classes/response</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_instance_of</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_kind_of</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">respond_to</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
</code></pre></div>
<h2>Truthiness and existentialism</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_truthy</span>    <span class="c1"># passes if actual is truthy (not nil or false)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="kp">true</span>      <span class="c1"># passes if actual == true</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_falsey</span>    <span class="c1"># passes if actual is falsy (nil or false)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be</span> <span class="kp">false</span>     <span class="c1"># passes if actual == false</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_nil</span>       <span class="c1"># passes if actual is nil</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">exist</span>        <span class="c1"># passes if actual.exist? and/or actual.exists? are truthy</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">exist</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="c1"># passes if actual.exist?(*args) and/or actual.exists?(*args) are truthy</span>
</code></pre></div>
<h2>Expecting errors</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="no">ErrorClass</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="s2">"message"</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="no">ErrorClass</span><span class="p">,</span> <span class="s2">"message"</span><span class="p">)</span>
</code></pre></div>
<h2>Expecting throws</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">throw_symbol</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">throw_symbol</span><span class="p">(</span><span class="ss">:symbol</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">throw_symbol</span><span class="p">(</span><span class="ss">:symbol</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span>
</code></pre></div>
<h2>Predicate matchers</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">be_xxx</span>         <span class="c1"># passes if actual.xxx?</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_xxx</span><span class="p">(</span><span class="ss">:arg</span><span class="p">)</span> <span class="c1"># passes if actual.has_xxx?(:arg)</span>
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">([]).</span><span class="nf">to</span>      <span class="n">be_empty</span>
    <span class="n">expect</span><span class="p">(</span><span class="ss">:a</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">).</span><span class="nf">to</span> <span class="n">have_key</span><span class="p">(</span><span class="ss">:a</span><span class="p">)</span>
</code></pre></div>
<h2>Collection membership</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="kp">include</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">array</span><span class="p">).</span><span class="nf">to</span> <span class="n">match_array</span><span class="p">(</span><span class="n">expected_array</span><span class="p">)</span>
    <span class="c1"># ...which is the same as:</span>
    <span class="n">expect</span><span class="p">(</span><span class="n">array</span><span class="p">).</span><span class="nf">to</span> <span class="n">contain_exactly</span><span class="p">(</span><span class="n">individual</span><span class="p">,</span> <span class="n">elements</span><span class="p">)</span>
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="kp">include</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="kp">include</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="ss">:a</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">).</span><span class="nf">to</span>     <span class="kp">include</span><span class="p">(</span><span class="ss">:a</span> <span class="o">=&gt;</span> <span class="s1">'b'</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">(</span><span class="s2">"this string"</span><span class="p">).</span><span class="nf">to</span> <span class="kp">include</span><span class="p">(</span><span class="s2">"is str"</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="n">contain_exactly</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]).</span><span class="nf">to</span>     <span class="n">match_array</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</code></pre></div>
<h2>Ranges (1.9+ only)</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="p">).</span><span class="nf">to</span> <span class="n">cover</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h2>Change observation</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">from</span><span class="p">(</span><span class="n">old</span><span class="p">).</span><span class="nf">to</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">by</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">by_at_least</span><span class="p">(</span><span class="n">minimum_delta</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span><span class="p">(</span><span class="n">object</span><span class="p">,</span> <span class="ss">:value</span><span class="p">).</span><span class="nf">by_at_most</span><span class="p">(</span><span class="n">maximum_delta</span><span class="p">)</span>
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span> <span class="p">{</span> <span class="n">a</span> <span class="o">+=</span> <span class="mi">1</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span> <span class="p">{</span> <span class="n">a</span> <span class="p">}.</span><span class="nf">by</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="n">a</span> <span class="o">+=</span> <span class="mi">3</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span> <span class="p">{</span> <span class="n">a</span> <span class="p">}.</span><span class="nf">from</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="n">a</span> <span class="o">+=</span> <span class="mi">3</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">change</span> <span class="p">{</span> <span class="n">a</span> <span class="p">}.</span><span class="nf">by_at_least</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<h2>Satisfy</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span><span class="p">(</span><span class="n">actual</span><span class="p">).</span><span class="nf">to</span> <span class="n">satisfy</span> <span class="p">{</span> <span class="o">|</span><span class="n">value</span><span class="o">|</span> <span class="n">value</span> <span class="o">==</span> <span class="n">expected</span> <span class="p">}</span>
</code></pre></div>
<h2>Output capture</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span> <span class="p">{</span> <span class="n">actual</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">output</span><span class="p">(</span><span class="s2">"some output"</span><span class="p">).</span><span class="nf">to_stdout</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="n">actual</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">output</span><span class="p">(</span><span class="s2">"some error"</span><span class="p">).</span><span class="nf">to_stderr</span>
</code></pre></div>
<h2>Block expectation</h2>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_control</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_no_args</span>           <span class="c1"># only matches no args</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_args</span>              <span class="c1"># matches any args</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="n">object</span><span class="p">.</span><span class="nf">action</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_successive_args</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="c1"># matches args against multiple yields</span>
</code></pre></div>
<h3>Examples</h3>
<div class="highlight"><pre class="highlight ruby"><code>    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="no">User</span><span class="p">.</span><span class="nf">transaction</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_control</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="no">User</span><span class="p">.</span><span class="nf">transaction</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_no_args</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="nf">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>            <span class="p">}.</span><span class="nf">not_to</span> <span class="n">yield_with_no_args</span>         <span class="c1"># because it yields with `5`</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="nf">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>            <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_args</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>             <span class="c1"># because 5 == 5</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mi">5</span><span class="p">.</span><span class="nf">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>            <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_with_args</span><span class="p">(</span><span class="no">Integer</span><span class="p">)</span>       <span class="c1"># because Integer === 5</span>
    <span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">each</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span>   <span class="p">}.</span><span class="nf">to</span> <span class="n">yield_successive_args</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div><h3>Topics</h3><ul><li><a href="/features/3-13/rspec-expectations/built-in-matchers/equality/"> Equality matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/comparisons/"> Comparison matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/predicates/"> Predicate matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/types/"> Type matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/all/"> `all` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/be/"> `be` matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/be-within/"> `be_within` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/exist/"> `exist` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/change/"> `change` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/contain-exactly/"> `contain_exactly` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/cover/"> `cover` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/end-with/"> `end_with` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/exist/"> `exist` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/have-attributes/"> `have_attributes` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/include/"> `include` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/match/"> `match` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/raise-error/"> `raise_error` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/respond-to/"> `respond_to` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/satisfy/"> `satisfy` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/start-with/"> `start_with` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/throw-symbol/"> `throw_symbol` matcher</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/yield/"> `yield` matchers</a></li><li><a href="/features/3-13/rspec-expectations/built-in-matchers/output/"> `output` matcher</a></li></ul></article></section><footer><div>Created with the assistance of Ninefold<img src="/images/brutus-half.png" alt="Brutus" /></div><br /><a href="https://dnsimple.link/resolving-rspec" target="_blank">Resolving with<br /><img src="https://cdn.dnsimple.com/assets/resolving-with-us/logo-dark.png" alt="DNSimple" style="width:100px;" /></a></footer></body><script src="/javascripts/asciinema-player.js"></script></html>